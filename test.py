import numpy as np
import shelve
from BPSA import *


s = shelve.open('W_of_0.22140270125723926')
sk = s.keys()
samples = [
        (np.mat([5.33, 5.39, 5.29, 5.41, 5.45]), 5.50),
        (np.mat([5.39, 5.29, 5.41, 5.45, 5.50]), 5.57),
        (np.mat([5.29, 5.41, 5.45, 5.50, 5.57]), 5.58),
        (np.mat([5.41, 5.45, 5.50, 5.57, 5.58]), 5.61),
        (np.mat([5.45, 5.50, 5.57, 5.58, 5.61]), 5.69),
        (np.mat([5.50, 5.57, 5.58, 5.61, 5.69]), 5.78),
        (np.mat([5.57, 5.58, 5.61, 5.69, 5.78]), 5.78),
        (np.mat([5.58, 5.61, 5.69, 5.78, 5.78]), 5.81),
        (np.mat([5.61, 5.69, 5.78, 5.78, 5.81]), 5.86),
        (np.mat([5.69, 5.78, 5.78, 5.81, 5.86]), 5.90),
        (np.mat([5.78, 5.78, 5.81, 5.86, 5.90]), 5.97),
        (np.mat([5.78, 5.81, 5.86, 5.90, 5.97]), 6.49),
        (np.mat([5.81, 5.86, 5.90, 5.97, 6.49]), 6.60),
        (np.mat([5.86, 5.90, 5.97, 6.49, 6.60]), 6.64)
    ]

# for sks in sk:
#     print(sks)
W = s['0']
E = MyBP.E(samples,W)


x = MyBP.output_y(np.mat([6.49,6.60,6.64,6.74,6.87]), W)
x2 = MyBP.output_y(samples[0][0], W)
x2 = MyBP.inverse_sigmoid(x2)
print(x2)